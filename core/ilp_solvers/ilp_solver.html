

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ILP solver &mdash; ugropy 3.1.6 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=b2e31178"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Default solver" href="default_solver.html" />
    <link rel="prev" title="ILP solvers" href="init.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ugropy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/tutorial.html">Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../implementing_models.html">User defined fragmentation models</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tests_book/index.html">Tests book</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../constants.html">constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../groups.html">Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../models/init.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../writers/init.html">Writers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../init.html">Core</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../init.html#ugropy.core.check_atoms_fragments_presence"><code class="docutils literal notranslate"><span class="pre">check_atoms_fragments_presence()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../init.html#ugropy.core.instantiate_mol_object"><code class="docutils literal notranslate"><span class="pre">instantiate_mol_object()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../checks.html">Checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get_rdkit_object.html">get rdkit object</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="init.html">ILP solvers</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">ILP solver</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ugropy.core.ilp_solvers.ilp_solver.ILPSolver"><code class="docutils literal notranslate"><span class="pre">ILPSolver</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="default_solver.html">Default solver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../frag_classes/init.html">Fragmentation Classes</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ugropy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../init.html">Core</a></li>
          <li class="breadcrumb-item"><a href="init.html">ILP solvers</a></li>
      <li class="breadcrumb-item active">ILP solver</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/core/ilp_solvers/ilp_solver.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-ugropy.core.ilp_solvers.ilp_solver">
<span id="ilp-solver"></span><h1>ILP solver<a class="headerlink" href="#module-ugropy.core.ilp_solvers.ilp_solver" title="Link to this heading"></a></h1>
<p>ILPSolver abstract class.</p>
<p>Template for defining ILP solvers used by <cite>ugropy</cite> to solve the <cite>Set Cover</cite>
problem.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ugropy.core.ilp_solvers.ilp_solver.ILPSolver">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ILPSolver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">overlapped_atoms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fragments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_multiple_solutions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_nonoptimal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver_arguments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ugropy/core/ilp_solvers/ilp_solver.html#ILPSolver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ugropy.core.ilp_solvers.ilp_solver.ILPSolver" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>ILPSolver abstract class.</p>
<p>Template for defining ILP solvers used by <cite>ugropy</cite> to solve the <cite>Set Cover</cite>
problem.</p>
<p>To inherit from this class, the following methods must be implemented:</p>
<ul class="simple">
<li><dl class="simple">
<dt><cite>solve_one_problem</cite>:</dt><dd><p>Method that solves one instance of the <cite>Set Cover</cite> problem. This method
must return a list of integers representing the chosen fragments. Also
must append the solution to the <cite>selected_fragments</cite> attribute as a
dictionary.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>solve</cite>:</dt><dd><p>This class call the <cite>solve_one_problem</cite> method multiples times if the
<cite>search_multiple_solutions</cite> attribute is True. The successives calls
must include the previous solutions obtained as restrictions.</p>
</dd>
</dl>
</li>
</ul>
<p>You can personalize both methods as you want. The library will call the
<cite>solve</cite> method and at the end of its execution the <cite>selected_fragments</cite>
attribute must contain the selected fragments for each solution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>overlapped_atoms</strong> (<em>List</em><em>[</em><em>int</em><em>]</em>) – List of atoms that are overlapped. On the <cite>Set Cover</cite> problem therms,
these atoms represents the universe of the problem.</p></li>
<li><p><strong>fragments</strong> (<em>dict</em><em>[</em><em>str: List</em><em>[</em><em>int</em><em>]</em><em>]</em>) – Dictionary with the fragments (groups) to be selected. On the <cite>Set
Cover</cite> problem therms, these fragments represents the sets to be
selected to cover all the universe. The key is the name of the fragment
and the value is a list of atoms that compose the fragment. Some atoms
that represents a fragment could not be present in the universe. This
is handled by adding those “free atoms” to the universe, forcing that
fragment to appear on the solution. This updating of the universe is
done on the <cite>__init__</cite> method, so you don’t need to worry about it.</p></li>
<li><p><strong>search_multiple_solutions</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the solver will search for multiple solutions, by default
False</p></li>
<li><p><strong>search_nonoptimal</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the solver will search for non-optimal solutions along with
the optimal ones. This is useful when the user wants to find all
possible combinations of fragments that cover the universe. By default
False. If <cite>search_multiple_solutions</cite> is True, this parameter will be
ignored.</p></li>
<li><p><strong>solver_arguments</strong> (<em>dict</em><em>, </em><em>optional</em>) – Dictionary with the arguments to be passed to the solver.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="ugropy.core.ilp_solvers.ilp_solver.ILPSolver.overlapped_atoms">
<span class="sig-name descname"><span class="pre">overlapped_atoms</span></span><a class="headerlink" href="#ugropy.core.ilp_solvers.ilp_solver.ILPSolver.overlapped_atoms" title="Link to this definition"></a></dt>
<dd><p>List of atoms that are overlapped. On the <cite>Set Cover</cite> problem therms,
these atoms represents the universe of the problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ugropy.core.ilp_solvers.ilp_solver.ILPSolver.fragments">
<span class="sig-name descname"><span class="pre">fragments</span></span><a class="headerlink" href="#ugropy.core.ilp_solvers.ilp_solver.ILPSolver.fragments" title="Link to this definition"></a></dt>
<dd><p>Fragments to choose to cover the universe.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str: List[int]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ugropy.core.ilp_solvers.ilp_solver.ILPSolver.search_multiple_solutions">
<span class="sig-name descname"><span class="pre">search_multiple_solutions</span></span><a class="headerlink" href="#ugropy.core.ilp_solvers.ilp_solver.ILPSolver.search_multiple_solutions" title="Link to this definition"></a></dt>
<dd><p>If True, the solver will search for multiple solutions.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ugropy.core.ilp_solvers.ilp_solver.ILPSolver.search_nonoptimal">
<span class="sig-name descname"><span class="pre">search_nonoptimal</span></span><a class="headerlink" href="#ugropy.core.ilp_solvers.ilp_solver.ILPSolver.search_nonoptimal" title="Link to this definition"></a></dt>
<dd><p>If True, the solver will search for non-optimal solutions along with
the optimal ones.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ugropy.core.ilp_solvers.ilp_solver.ILPSolver.selected_fragments">
<span class="sig-name descname"><span class="pre">selected_fragments</span></span><a class="headerlink" href="#ugropy.core.ilp_solvers.ilp_solver.ILPSolver.selected_fragments" title="Link to this definition"></a></dt>
<dd><p>Solutions found by the <cite>solve</cite> method. Its a list  that contains the
different obtained solutions as lists of strings. Each string
corresponds to the name of the selected fragments.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[List[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ugropy.core.ilp_solvers.ilp_solver.ILPSolver.overlapped_fragments">
<span class="sig-name descname"><span class="pre">overlapped_fragments</span></span><a class="headerlink" href="#ugropy.core.ilp_solvers.ilp_solver.ILPSolver.overlapped_fragments" title="Link to this definition"></a></dt>
<dd><p>Fragments that participates on overlapped atoms.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ugropy.core.ilp_solvers.ilp_solver.ILPSolver.universe">
<span class="sig-name descname"><span class="pre">universe</span></span><a class="headerlink" href="#ugropy.core.ilp_solvers.ilp_solver.ILPSolver.universe" title="Link to this definition"></a></dt>
<dd><p>Set with all elements that must be covered by the fragments. This set
is composed by the overlapped atoms and the atoms that are present in
the overlapped fragments but not in the overlapped atoms.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>set</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ugropy.core.ilp_solvers.ilp_solver.ILPSolver.solve_one_problem">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">solve_one_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">not_valid_solutions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/ugropy/core/ilp_solvers/ilp_solver.html#ILPSolver.solve_one_problem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ugropy.core.ilp_solvers.ilp_solver.ILPSolver.solve_one_problem" title="Link to this definition"></a></dt>
<dd><p>Solves one instance of the <cite>Set Cover</cite> problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>not_valid_solutions</strong> (<em>List</em><em>[</em><em>list</em><em>[</em><em>int</em><em>]</em><em>]</em>) – List with binary values representing the fragments that are choosen
with a 1 and the not choosen with a 0. This list contains the lists
of the solutions already found.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Solution found by the solver. The list must contain binary values
representing the fragments that are choosen with a 1 and the not
choosen with a 0. Of course, the length of the list must be equal
to the lenght of the <cite>overlapped_fragments</cite> attribute.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[int]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – Abstract method not implemented</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ugropy.core.ilp_solvers.ilp_solver.ILPSolver.solve">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/ugropy/core/ilp_solvers/ilp_solver.html#ILPSolver.solve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ugropy.core.ilp_solvers.ilp_solver.ILPSolver.solve" title="Link to this definition"></a></dt>
<dd><p>Solve method called by fragmentations models.</p>
<p>Ath the end of this method’s execution, the <cite>selected_fragments</cite> must
contain the selected fragments (solutions) as a list of dictionaries.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>NotImplementedError</strong> – Abstract method not implemented</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="init.html" class="btn btn-neutral float-left" title="ILP solvers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="default_solver.html" class="btn btn-neutral float-right" title="Default solver" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Salvador Eduardo Brandolín.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>